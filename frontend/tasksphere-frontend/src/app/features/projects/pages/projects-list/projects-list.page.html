<header-component
  title="Projetos"
  subtitle="Organize e gerencie seus projetos"
  iconPath="icons/bag-icon.svg"
  iconAlt="bag-icon"
>
  <div class="header-buttons-container">
    <a class="btn" routerLink="/projects/new">Criar projeto</a>
    <a class="btn secondary" routerLink="nav.routeBack()">Voltar</a>
  </div>
</header-component>

<section *ngIf="loading; else content">
  <app-skeleton></app-skeleton>
</section>

<ng-template #content>
  <section *ngIf="!loading && errorMessage" class="error">
    {{ errorMessage }}
  </section>

  <section *ngIf="!canShowContent() && projects.length === 0">Nenhum projeto encontrado.</section>

  <ul class="list" *ngIf="canShowContent() && projects.length > 0">
    <li *ngFor="let p of projects; let i = index" [ngClass]="{ variant: i % 2 !== 0 }">
      <project-card
        [name]="p.name"
        [ownerName]="p.owner?.name || ''"
        [ownerEmail]="p.owner?.email || ''"
        [isVariant]="i % 2 !== 0"
      >
      </project-card>
    </li>
  </ul>
</ng-template>
