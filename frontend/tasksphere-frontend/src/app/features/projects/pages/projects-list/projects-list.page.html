<header-component
  title="Projetos"
  subtitle="Organize e gerencie seus projetos"
  iconPath="icons/bag-icon.svg"
  iconAlt="bag-icon"
>
  <div class="header-buttons-container">
    <a class="btn" routerLink="/projects/new">Criar projeto</a>
    <a class="btn secondary" routerLink="nav.routeBack()">Voltar</a>
  </div>
</header-component>

<section *ngIf="loading; else content">
  <app-skeleton></app-skeleton>
</section>

<ng-template #content>
  <section *ngIf="!loading && errorMessage" class="error">
    {{ errorMessage }}
  </section>

  <section *ngIf="!canShowContent() && projects.length === 0">Nenhum projeto encontrado.</section>

  <ul class="list" *ngIf="canShowContent() && projects.length > 0">
    <li class="card" *ngFor="let p of projects; let i = index" [ngClass]="{ variant: i % 2 !== 0 }">
      <h2>{{ p.name }}</h2>
      <p>{{ p.description || 'Sem descrição' }}</p>
      <small *ngIf="p.owner">Dono: {{ p.owner.name }} ({{ p.owner.email }})</small>
    </li>
  </ul>
</ng-template>
